@isTest
private class BillingCalloutServiceTest {
    @isTest
    static void testCallBillingService(){
        //define os valores para o teste
        Accessibility_Project__c project = new Accessibility_Project__c();
        project.Amount__c = 100.00;
        insert project;
        
        Test.starTest();        
        //define o mock
        Test.setMock(WebServiceMock, new BillingCalloutServiceMock());
        //chama o m√©todo
        AccessibilityProjectBilling.callBillingService(projectId, project.Amount__c);        
        Test.stopTest();
        
        project = [SELECT Status__c FROM Accessibility_Project__c WHERE Id = :projectId];
        System.assertEquals('Complete',project.Status__c,'Project should be Complete');
        
    }

}
